<div class="container">

    <button class="btn btn-secondary" routerLink="/metadata">  <i class="fa fa-arrow-left" aria-hidden="true"></i> Retour
    </button>

    <div class="card ">
      <div class="card-body">
        <h3>
          Jeu de données
        </h3>


        <p>Cadre d'acquisition : <small>{{dataset.acquisition_framework.acquisition_framework_name}}</small></p>

        <p>Nom du JDD : <small>{{dataset.dataset_name}}</small></p>
        
        <p>Nom court du JDD : <small>{{dataset.dataset_shortname}}</small></p>

        <p>Description : <br/>
        <small>{{dataset.dataset_desc}}</small></p>

        <p>Domaine : <small>
          {{dataset.terrestrial_domain ? 'terrestre' : ''}}
          {{(dataset.terrestrial_domain && dataset.marine_domain) ? ' et ' : ''}}
          {{dataset.marine_domain ? 'marin' : ''}}
        </small></p>
        
        <p>Type de données : <small>{{dataset.data_type.label_default}} <br/>
        {{dataset.data_type.definition_default}}</small></p>

        <p>Objectif : <small>{{dataset.dataset_objectif.label_default}} <br/>
        {{dataset.dataset_objectif.definition_default}}</small></p>

        <p>Méthode de collecte : <small>{{dataset.collecting_method.label_default}} <br/>
        {{dataset.collecting_method.definition_default}}</small></p>

        <p>Origine des données : <small>{{dataset.data_origin.label_default}} <br/>
        {{dataset.data_origin.definition_default}}</small></p>

        <p>Statut source : <small>{{dataset.source_status.label_default}} <br/>
        {{dataset.source_status.definition_default}}</small></p>

        <p>Type de ressource : <small>{{dataset.resource_type.label_default}} <br/>
        {{dataset.resource_type.definition_default}}</small></p>
        
        <h6 *ngIf="imports"> Import(s) fait(s) sur le jeu de données : </h6>
        <table *ngIf="imports" class="table table-bordered table-sm">
          <thead>
            <tr>
              <th scope="col">Id</th>
              <th scope="col">Nom</th>
              <th scope="col">Date</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let import of imports">
              <th>{{ import.id_import }}</th>
              <td>{{ import.full_file_name }}</td>
              <td>{{ import.date_create_import }}</td>
            </tr>
          </tbody>
        </table>

        <h6 *ngIf="dataset.cor_dataset_actor">Acteurs(s) associé(s) au jeu de données :</h6>
        <table class="table table-bordered table-sm">
          <thead>
            <tr>
              <th scope="col">Id</th>
              <th scope="col">Nom role</th>
              <th scope="col">Nom organisme</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let actor of dataset.cor_dataset_actor">
              <td>{{ actor?.id_cda }}</td>
              <td>{{ actor.role?.nom_role }} {{ actor.role?.prenom_role }}</td>
              <td>{{ actor.organism?.nom_organisme }}</td>
            </tr>
          </tbody>
        </table>

        <br>
        <h5> Spécifique GeoNature </h5>
    
        <p>
          Actif : <small>{{dataset.active ? 'Oui' : 'Non'}}</small> <br/>
          Validable : <small>{{dataset.validable ? 'Oui' : 'Non'}}</small>
        </p>
    
        <p>Module(s) GeoNature associé(s) au jeu de données :
          <small>
            <ul *ngIf="dataset.modules; else noModule">
              <li *ngFor='let module of dataset.modules'>
                {{ module.module_code }}
              </li>
            </ul>
            <ng-template #noModule>Aucun</ng-template>
          </small>
        </p>

      </div>
    </div>

    <button class="btn btn-secondary" routerLink="/metadata">  <i class="fa fa-arrow-left" aria-hidden="true"></i> Retour
    </button>
</div>

