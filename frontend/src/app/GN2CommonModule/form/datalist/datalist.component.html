<div *ngIf="values; else loadingBlock">
  <mat-form-field style="width: 100%" dense>
    <mat-label>{{label}}</mat-label>
    <mat-select [formControl]="parentFormControl"  [multiple]=multiple required dense>
      <ngx-mat-select-search
        placeholderLabel="Filtre"
        (ngModelChange)="searchChanged($event)"
        [ngModel]="search"
        [clearSearchInput]="false"
      ></ngx-mat-select-search>
      <mat-select-trigger *ngIf="multiple">
        <mat-chip-list>
          <mat-chip *ngFor="let value of selectedValues()"
            [removable]="true" (removed)="onToppingRemoved(topping)">
            {{ displayLabelFromValue(value) }}
            <mat-icon matChipRemove>cancel</mat-icon>
          </mat-chip>
        </mat-chip-list>
      </mat-select-trigger>
      <!-- <mat-option>None</mat-option> -->
      <mat-option *ngFor="let value of filteredValues" [value]="value[keyValue]">
        {{ displayLabel(value) }}
      </mat-option>
    </mat-select>
  </mat-form-field>

<ng-template #loadingBlock>
  DataListComponent : Chargement en cours...
</ng-template>
