<div>
  <div>
<mat-accordion [multi]="true">

    <div *ngFor="let media of medias; let i = index">
      <button
      mat-icon-button
      class="btn-clear d-none"
      (click)="deleteMedia(i)">
      <mat-icon matTooltip="Supprimer ce media">clear</mat-icon>
    </button>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          {{media.title_fr}}
        </mat-panel-title>
      </mat-expansion-panel-header>

      <pnx-media
        [(media)]="media"
        [(bEdit)]="bEditMedias[i]"
        [(bFreeze)]="bFreeze"
        [(bLoading)]="bLoading"
        (validMediaChange)="onValidMediaChange($event, i)"
        (actionProcessed)="onActionProcessed($event)"
        [schemaDotTable]="schemaDotTable"
        [uuidAttachedRow]="uuidAttachedRow"
      >
      </pnx-media>
      </mat-expansion-panel>
    </div>
    </mat-accordion>
  </div>
  <div class="add-btn">

    <button
      mat-mini-fab
      color="primary"
      class="btn-add-media"
      id="add-media-btn"
      [disabled]="bFreeze || bLoading"
      (click)="addMedia()"
    >
      <mat-icon matTooltip="{{ 'Media.add' | translate }}">add</mat-icon>
    </button>
  </div>
</div>
