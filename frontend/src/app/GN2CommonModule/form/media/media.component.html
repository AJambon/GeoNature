<div>
  <a *ngIf="media.href()" target="_blank" class="link-media float-right" [href]="media.href()"
    ><mat-icon matTooltip="{{ 'Media.link' | translate }}">link</mat-icon>
  </a>

  <img-medias [medias]="[media]" index=0 display="medium"></img-medias>
  <p *ngIf="!bValidSizeMax" class="error">
    La taille du fichier ({{round(mediaForm.value.file.size / 1e6, 1)}} Mo)
     est supérieure à la taille maximale autorisée ({{round(sizeMax / 1e3, 1)}} Mo)
  </p>
  <pnx-dynamic-form-generator
    #dynamicForm
    [autoGenerated]="true"
    [myFormGroup]="mediaForm"
    [formsDefinition]="mediaFormDefinition"
    (fileChange)="($event)"
  ></pnx-dynamic-form-generator>
  <button
    *ngIf="mediaForm.value.bFile === 'Uploader un fichier'"
    mat-mini-fab
    class="btn-upload"
    id="upload-media-btn"
    (click)="uploadMedia()"
    [disabled]="!(media.readyForUpload() && mediaForm.value.file && bValidSizeMax)"
  >
    <mat-icon matTooltip="{{ 'Media.add' | translate }}">publish</mat-icon>
  </button>
</div>
