<div>
  <p *ngIf="media.href()">
    <a target="_blank" class="link-media" [href]="media.href()"
      ><mat-icon matTooltip="{{ 'Medias.link' | translate }}">link</mat-icon></a
    >
  </p>
  <p *ngIf="!bValidSizeMax">La taille du fichier ({{mediaForm.value.file.size}} ko) est supérieure à la taille maximale autorisée ({{sizeMax}} ko)</p>
  <pnx-dynamic-form-generator
    #dynamicForm
    [autoGenerated]="true"
    [myFormGroup]="mediaForm"
    [formsDefinition]="mediaFormDefinition"
    (fileChange)="($event)"
  ></pnx-dynamic-form-generator>
  <button
    *ngIf="mediaForm.value.bFile === 'Uploader un fichier'"
    mat-mini-fab
    class="btn-upload"
    id="upload-media-btn"
    (click)="uploadMedia()"
    [disabled]="!(media.readyForUpload() && mediaForm.value.file && (!sizeMax || mediaForm.value.file.size <= sizeMax))"
  >
    <mat-icon matTooltip="{{ 'Media.add' | translate }}">publish</mat-icon>
  </button>
</div>
